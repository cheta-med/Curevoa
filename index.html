<!DOCTYPE html>
<html>
<head>
  <title>Medicine Info App</title>
  <script src="https://unpkg.com/tabletop@1.6.0/tabletop.js"></script>
  <style>
    body { font-family: Arial; background: #f4f4f4; padding: 20px; }
    h1 { color: #2c3e50; }
    input {
      padding: 10px;
      width: 320px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    .card {
      background: white;
      padding: 15px;
      margin-top: 15px;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .card h3 {
      margin: 0 0 10px 0;
      color: #2980b9;
    }
  </style>
</head>
<body>

<h1>ðŸ’Š Medicine Info Search</h1>
<input type="text" id="search" placeholder="Enter medicine name..." oninput="searchMedicine()">
<div id="results"></div>

<script>
  let medicineData = [];

  function init() {
    Tabletop.init({
      key: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTcdr_hnGC1b9k4eCKj7zGjiSa5Jn5NPFo3aAlAmcBjOE0tiPWfQn5VyRerhiSxPIucSEOoEq7pUzH1/pubhtml',
      callback: function(data) {
        medicineData = data;
      },
      simpleSheet: true
    });
  }

  function searchMedicine() {
    const query = document.getElementById('search').value.toLowerCase();
    const results = document.getElementById('results');
    results.innerHTML = '';

    const matches = medicineData.filter(row =>
      row.Name && row.Name.toLowerCase().includes(query)
    );

    matches.forEach(row => {
      results.innerHTML += `
        <div class="card">
          <h3>${row.Name}</h3>
          <p><strong>Use:</strong> ${row.Use}</p>
          <p><strong>Dosage:</strong> ${row.Dosage}</p>
          <p><strong>Side Effects:</strong> ${row.SideEffects}</p>
          <p><strong>Warning:</strong> ${row.Warning}</p>
          <p><strong>Manufacturer:</strong> ${row.Manufacturer}</p>
        </div>`;
    });

    if (matches.length === 0 && query.length > 0) {
      results.innerHTML = "<p>No matching medicine found.</p>";
    }
  }

  window.addEventListener('DOMContentLoaded', init);
</script>

</body>
</html>
